[program:laravel-route-watcher-prod]
; Laravel Route Watcher - Production Configuration
;
; This configuration runs the route watcher daemon in production mode
; with optimized checking intervals and minimal resource usage

; Process identification
process_name=laravel-route-watcher-prod
command=php %(ENV_LARAVEL_ROOT)s/artisan routes:daemon --interval=15
;                                        â†‘
;                    Longer interval for production (15 seconds)
;                    Balances detection speed with resource usage

; Auto-start and restart configuration
autostart=true
autorestart=true
numprocs=1
priority=999

; Process output configuration
stdout_logfile=%(ENV_LARAVEL_ROOT)s/storage/logs/supervisor/route-watcher-prod.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=10
stderr_logfile=%(ENV_LARAVEL_ROOT)s/storage/logs/supervisor/route-watcher-prod-error.log
stderr_logfile_maxbytes=50MB
stderr_logfile_backups=10

; Process user and environment
; Change 'www-data' to your actual web server user
user=www-data
environment=LARAVEL_ENV=production,APP_ENV=production

; Stopsignal and timeout configuration
stopsignal=TERM
stopwaitsecs=10
stopasgroup=true

; Redirect stderr to stdout
redirect_stderr=false

; Log level (DEBUG, INFO, WARN, CRIT)
; Set to INFO for production (INFO is the default)
loglevel=info

; Process restart strategy
; Auto-restart with exponential backoff if it keeps crashing
startretries=3
startsecs=10

; Uncomment below to receive event notifications
; events=PROCESS_STATE,TICK_3600
; eventbuffer_size=100

; Additional notes:
; - Optimized for production stability and resource usage
; - Longer interval (15 seconds) reduces CPU load
; - Automatic restart with safety checks
; - Will recover from crashes gracefully
; - Change 'www-data' to your web server user (apache, nginx, etc)
