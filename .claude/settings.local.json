{
  "permissions": {
    "allow": [
      "Bash(composer require:*)",
      "Bash(brew install:*)",
      "Bash(cloudflared:*)",
      "Bash(composer dump-autoload:*)",
      "Bash(find:*)",
      "Bash({} ;)",
      "mcp__chrome-devtools__list_pages",
      "mcp__chrome-devtools__navigate_page",
      "mcp__chrome-devtools__new_page",
      "mcp__chrome-devtools__take_snapshot",
      "mcp__chrome-devtools__click",
      "mcp__chrome-devtools__take_screenshot",
      "Bash(php artisan make:controller:*)",
      "Bash(vendor/bin/pint:*)",
      "Bash(test:*)",
      "Bash(grep:*)",
      "Bash(cat:*)",
      "Bash(php artisan:*)",
      "Bash(tree:*)",
      "mcp__chrome-devtools__evaluate_script",
      "Bash(npm install)",
      "Bash(npm run dev:*)",
      "Bash(curl:*)",
      "mcp__chrome-devtools__list_console_messages",
      "mcp__chrome-devtools__get_console_message",
      "mcp__chrome-devtools__list_network_requests",
      "mcp__chrome-devtools__get_network_request",
      "Bash(npm install:*)",
      "mcp__chrome-devtools__fill",
      "mcp__chrome-devtools__wait_for",
      "mcp__chrome-devtools__hover",
      "Bash(ls:*)",
      "Bash(\"/Users/functionbytes/Library/Application Support/Herd/bin/php\" --version)",
      "Bash(/opt/homebrew/Cellar/php/8.4.4/bin/php artisan migrate:*)",
      "Bash(/opt/homebrew/Cellar/php/8.4.4/bin/php artisan:*)",
      "Bash(npm run build:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: Add comprehensive i18n translation system for LiveChat widget\n\n- Create translation files for admin panel (Spanish & English) with all setting labels, descriptions, and help text\n- Implement React-based i18n system with automatic language detection from data-lang attribute\n- Add translations.ts with support for 6 languages (Spanish, English, Portuguese, French, German, Italian)\n- Implement useLanguage hook with mutation observer for dynamic language switching\n- Support variable replacement in translations (e.g., :number, :minutes)\n- Update admin panel (livechat.blade.php) to use Laravel translation keys\n- Update HomeScreen component to use React translation system\n- Add comprehensive i18n documentation guide in docs/frontend/\n\nLanguage detection priority:\n1. data-lang attribute on body tag (highest priority)\n2. data-lang attribute on html tag\n3. lang attribute on html tag\n4. Browser language (navigator.language)\n5. Default to Spanish (lowest priority)\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Haiku 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit:*)",
      "Bash(php -l:*)",
      "Bash(pkill:*)",
      "mcp__postgres__query",
      "Bash(xargs:*)",
      "Bash(for f in database/migrations/submit/*.php)",
      "Bash(do basename \"$f\")",
      "Bash(done)",
      "Bash(for:*)",
      "Bash(do echo \"=== $class ===\")",
      "Bash(/opt/homebrew/Cellar/php/8.4.4/bin/php:*)",
      "mcp__postgres__describe_table",
      "Bash(node -c /Users/functionbytes/Function/Coding/alsernet/resources/js/helpdesk/widget/screens/HelpScreen.tsx)",
      "Bash(git reset:*)",
      "Bash(resources/js/helpdesk/widget/components/WidgetNavigation.tsx )",
      "Bash(resources/js/helpdesk/widget/screens/ArticleDetailScreen.tsx )",
      "Bash(resources/js/helpdesk/widget/screens/HelpScreen.tsx )",
      "Bash(resources/js/helpdesk/widget/screens/NewTicketScreen.tsx)",
      "Bash(perl -i -pe:*)",
      "Bash(mv:*)",
      "Bash(python3:*)",
      "mcp__postgres__list_tables",
      "Bash(mysql:*)",
      "mcp__chrome-devtools__select_page",
      "Bash(php /Users/functionbytes/Function/Coding/alsernet/artisan make:migration:*)",
      "Bash(open https://alsernet.test/manager/helpdesk/conversations/1)",
      "Bash(open https://alsernet.test/manager/helpdesk/conversations/2)",
      "Bash(php:*)",
      "Bash(git checkout:*)",
      "Bash(rm:*)",
      "mcp__postgres__connect_db",
      "Bash(while read f)",
      "Bash(do sed -i '' -e 's/manager\\.helpdesk\\.settings\\.team\\./manager.helpdesk.settings.tickets.team./g' -e 's/manager\\.helpdesk\\.settings\\.attributes\\./manager.helpdesk.settings.tickets.attributes./g' -e 's/manager\\.helpdesk\\.settings\\.tags\\./manager.helpdesk.settings.tickets.tags./g' -e 's/manager\\.helpdesk\\.settings\\.views\\./manager.helpdesk.settings.tickets.views./g' \"$f\" done)",
      "mcp__laravel-boost__database-query",
      "Skill(frontend-design:frontend-design)",
      "mcp__chrome-devtools__upload_file",
      "mcp__chrome-devtools__handle_dialog",
      "mcp__chrome-devtools__press_key",
      "Bash(sqlite3:*)",
      "Bash(ln:*)",
      "WebFetch(domain:phpstack-1384472-5222346.cloudwaysapps.com)",
      "Bash(open \"https://alsernet.test/manager/settings/mailers/components/6928bee1751c7/edit\")",
      "mcp__chrome-devtools__fill_form",
      "Bash(open https://alsernet.test/manager/settings/mailers/components/693a9fda89ffd/edit)",
      "Bash(open \"https://alsernet.test/manager/settings/documents/configurations\")",
      "Bash(__NEW_LINE__ git add -A)",
      "Bash(__NEW_LINE__ echo \"âœ… Estructura final creada:\")",
      "Bash(head -1 grep \"view(\" app/Http/Controllers/Managers/Settings/Mailers/MailerTemplateController.php)",
      "Bash(__NEW_LINE__ echo \"Verificando rutas en MailerComponentController:\")",
      "Bash(lsof:*)",
      "Bash(__NEW_LINE__ php -l /Users/functionbytes/Function/Coding/alsernet/app/Http/Controllers/Managers/Settings/Orders/DocumentConfigurationController.php)",
      "Bash(open https://alsernet.test/manager/settings/mailers/templates/693aa520a931f/edit)",
      "Bash(__NEW_LINE__ git add docs/backend/mail_ENDPOINTS_GUIDE.md)",
      "Bash(__NEW_LINE__ echo \"\")",
      "Bash(__NEW_LINE__ echo \"âœ… SISTEMA DE EMAIL ENDPOINTS COMPLETADO\")",
      "Bash(screencapture:*)",
      "Bash(open \"https://alsernet.test/manager/settings/mailers/endpoints/\")",
      "Bash(php artisan migrate:rollback:*)",
      "Bash(php -v:*)",
      "Bash(php --version:*)",
      "Bash(brew list:*)",
      "Bash(alias php=\"/opt/homebrew/opt/php@8.4/bin/php\")",
      "Bash(herd --version:*)",
      "Bash(herd php:*)",
      "Bash(herd php-versions:*)",
      "Bash(herd --help:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: Implement translatable EmailTemplate system with preheader support\n\nImplement a complete multi-language system for email templates following the same pattern as Layout/LayoutTranslation:\n\n**EmailTemplate Changes:**\n- Remove lang_id field (move to translations table)\n- Add is_protected boolean field to prevent accidental deletion\n- Add translate() method for language-specific lookups with fallback\n- Add magic getters for backwards compatibility\n- Add HasMany relationship with MailTemplateLang\n\n**MailTemplateLang Model:**\n- New model to hold language-specific content\n- Fields: subject, preheader, content per language\n- Belongs to EmailTemplate and Lang\n- Unique constraint on (mail_template_id, lang_id)\n\n**MailerTemplateController Refactoring:**\n- store(): Create ONE EmailTemplate + N EmailTemplateTranslations\n- edit(): Show translation for specific language via lang_id parameter\n- update(): Update only the translation for current language\n- destroy(): Validate is_protected before deletion\n- renderTemplateWithLayout(): Generate preheader HTML and support translations\n- preview/previewAjax(): Support language selection\n\n**MailerComponentController Cleanup:**\n- Remove preheader field (only for templates, not reusable components)\n- Add is_protected support (preventing deletion of critical components)\n- Update to work with correct component translation system\n\n**Templates:**\n- create.blade.php: Add preheader and is_protected fields\n- edit.blade.php: Show translation per language with language switching\n- Use lang_id query parameter for navigation between translations\n\n**Migrations:**\n- create_mail_template_translations_table: New translations table\n- add_is_protected_to_mail_templates_table: Protect templates\n- remove_lang_id_from_mail_templates_table: Clean up redundant field\n\nThis maintains separation: Components (reusable pieces) vs Templates (complete emails with subject/preheader)\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Haiku 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(php artisan make:migration:*)",
      "Bash(node -c:*)",
      "Bash(php artisan test:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: Preserve language selection when saving email templates\n\nWhen editing email templates in a specific language (e.g., English - lang_id=2)\nand clicking save, the system was redirecting back to Spanish (lang_id=1) instead\nof maintaining the selected language.\n\nRoot Cause:\n- Used redirect()->back() which loses query parameters\n- lang_id parameter was not preserved after save\n\nSolution:\n- Changed redirect()->back() to redirect()->route() with explicit lang_id\n- Ensures user stays on the same language after saving changes\n\nAdded:\n- Test for language persistence after save\n- Test for language switching validation\n- Documentation of the fix\n\nBenefits:\n- Users can edit templates in any language without losing context\n- Language selection is preserved across save operations\n- Improved UX for multi-language template management\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Haiku 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(composer validate:*)",
      "Bash(php artisan cache:clear:*)",
      "Bash(php artisan view:clear:*)",
      "mcp__chrome-devtools__resize_page",
      "Bash(php artisan migrate:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: Correct note endpoints and implement update/delete functionality\n\n- Fixed JavaScript fetch URLs from /administrative/orders/manage/ to /administrative/documents/manage/\n- Added updateNote and deleteNote controller methods with proper authorization\n- Added corresponding routes for PUT and DELETE note operations\n- Notes component now fully functional with add, edit, and delete operations\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Haiku 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(timeout 5 git log:*)",
      "Bash(chmod:*)",
      "Bash(git log:*)",
      "WebSearch",
      "mcp__context7__resolve-library-id",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: Implementar modal para solicitar carga de documentos con opciones de email\n\n- Crear nuevo modal (#requestUploadModal) para solicitar carga de documentos\n- Reemplazar confirm() con modal en botÃ³n \"Solicitar carga\"\n- Agregar opciÃ³n para enviar email de recordatorio automÃ¡tico\n- Agregar opciÃ³n para incluir contenido personalizado en el email\n- Actualizar DocumentUploadNotificationMail para aceptar contenido personalizado\n- Actualizar sendNotificationEmail en controlador para procesar nuevas opciones\n- Incluir contenido personalizado en vista del email si se proporciona\n- Habilitar envÃ­o de recordatorio simultÃ¡neo si se selecciona en el modal\n\nðŸ¤– Generated with Claude Code\n\nCo-Authored-By: Claude Haiku 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(php artisan queue:retry:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: Simplificar modal de solicitud inicial de documentos\n\n- Modal ahora es simple y directo, sin opciones adicionales de recordatorio\n- Remover parÃ¡metros de contenido personalizado (no son necesarios para solicitud inicial)\n- Restaurar comportamiento original: solo confirma envÃ­o de solicitud inicial\n- Mantener separaciÃ³n clara entre:\n  * Solicitud inicial: modal simple para confirmar\n  * Documentos especÃ­ficos: modal aparte con opciones\n  * Recordatorio: botÃ³n/modal independiente\n  * Correo personalizado: modal aparte para contenido custom\n\nðŸ¤– Generated with Claude Code\n\nCo-Authored-By: Claude Haiku 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(php artisan queue:work:*)",
      "Bash(php artisan tinker:*)",
      "Bash(php artisan make:model:*)",
      "Bash(composer show:*)",
      "Bash(vendor/bin/pint resources/views/managers/views/settings/translations/)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: Improve missing documents email template to properly handle optional notes\n\n- Updated DocumentEmailTemplateService to create a NOTES_SECTION variable that contains complete HTML formatting only when notes exist\n- Prevents empty paragraph tags when no additional notes are provided\n- Fixed template lookup to include ''document_missing'' key which is used in the database\n- Updated email template in database to use {NOTES_SECTION} instead of {REQUEST_REASON} for better conditional display\n- Wrapped notes in a styled div with amber left border when present\n\nThe custom email feature already supports variable replacement in both subject and content fields.\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Haiku 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(php -r:*)",
      "Bash(composer install:*)",
      "Bash(php artisan migrate:status:*)",
      "Bash(php artisan make:job:*)",
      "Bash(php artisan make:command:*)",
      "Bash(timeout 10 php artisan:*)",
      "WebFetch(domain:ana.preproduccion.a-alvarez.com)",
      "Bash(jq:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: Improve custom email modal to show configured template\n\n- Load and display the configured custom email template in the document management modal\n- Show template name and description when a template is configured\n- Display helpful warning when no template is configured with link to settings\n- Add helper text showing available variables for subject and content\n- Improve button styling with icon and better spacing\n\nThis ensures users know which email template will be used when sending custom emails.\n\nðŸ¤– Generated with Claude Code\n\nCo-Authored-By: Claude Haiku 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(xargs -I {} curl -s \"http://localhost:8025/api/v1/message/{}\")",
      "Bash(git rm:*)",
      "Bash(git gc:*)",
      "Bash(git init:*)",
      "Bash(git remote add:*)",
      "Bash(git push:*)",
      "Bash(mkdir:*)",
      "Bash(php -i:*)",
      "Bash(php artisan config:cache:*)",
      "Bash(php artisan migrate:latest:*)",
      "Bash(xargs basename:*)",
      "Bash(php artisan migrate:refresh:*)",
      "Bash(php artisan db:seed:*)"
    ],
    "deny": [],
    "ask": []
  },
  "enabledMcpjsonServers": [
    "n8n-mcp",
    "n8n-workflows Docs",
    "context7",
    "chrome-devtools",
    "mcp-filesystem",
    "mcp-http",
    "mcp-smtp",
    "mcp-mongodb",
    "mcp-codemap",
    "laravel-boost"
  ],
  "disabledMcpjsonServers": [
    "n8n-mcp",
    "n8n-workflows Docs",
    "context7",
    "chrome-devtools",
    "mcp-filesystem",
    "mcp-http",
    "mcp-smtp",
    "mcp-mongodb",
    "mcp-codemap"
  ],
  "enableAllProjectMcpServers": true
}
